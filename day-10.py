my_input = [
'#..#.#.#.######..#.#...##',
'##.#..#.#..##.#..######.#',
'.#.##.#..##..#.#.####.#..',
'.#..##.#.#..#.#...#...#.#',
'#...###.##.##..##...#..#.',
'##..#.#.#.###...#.##..#.#',
'###.###.#.##.##....#####.',
'.#####.#.#...#..#####..#.',
'.#.##...#.#...#####.##...',
'######.#..##.#..#.#.#....',
'###.##.#######....##.#..#',
'.####.##..#.##.#.#.##...#',
'##...##.######..##..#.###',
'...###...#..#...#.###..#.',
'.#####...##..#..#####.###',
'.#####..#.#######.###.##.',
'#...###.####.##.##.#.##.#',
'.#.#.#.#.#.##.#..#.#..###',
'##.#.####.###....###..##.',
'#..##.#....#..#..#.#..#.#',
'##..#..#...#..##..####..#',
'....#.....##..#.##.#...##',
'.##..#.#..##..##.#..##..#',
'.##..#####....#####.#.#.#',
'#..#..#..##...#..#.#.#.##']
example1 = ['.#.##','#..#.','.#..#','..#..','#..##']
example2 = [
'.#..#',
'.....',
'#####',
'....#',
'...##']
example3 = [
'......#.#.',
'#..#.#....',
'..#######.',
'.#.#.###..',
'.#..#.....',
'..#....#.#',
'#..#....#.',
'.##.#..###',
'##...#..#.',
'.#....####'
]
example4 = [
'#.#...#.#.',
'.###....#.',
'.#....#...',
'##.#.#.#.#',
'....#.#.#.',
'.##..###.#',
'..#...##..',
'..##....##',
'......#...',
'.####.###.'
]

from fractions import Fraction

asteroids = set()
y = 0
for line in example4:
  x = 0
  for digit in line:
    if digit == '#':
      asteroids.add((x,y))
    x += 1
  y += 1

height = y
width = x

best = 0
for location in asteroids:
  visible = set()
  for asteroid in asteroids:
    if location == asteroid:
      continue

    rise = asteroid[1]-location[1]
    run = asteroid[0]-location[0]

    if run == 0:
      if rise > 0:
        slope = 'inf'
      else:
        slope = '-inf'
    elif rise == 0:
      if run > 0:
        slope = '+0'
      else:
        slope = '-0'
    else:
      slope = Fraction( rise, run )
    visible.add(slope)

  print( len(visible), location, visible )
  #if location == (5,8):
    #for i in visible:
      #print( i )
    #exit()

  if len(visible) > best:
    best = len(visible)
    best_location = location

print( best, best_location )

